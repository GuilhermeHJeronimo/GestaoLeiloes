{% extends 'core/base.html' %}
{% block title %}Painel da Recepção{% endblock %}

{% block content %}
<style>
    .header { margin-bottom: 30px; }
    .actions-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
    .action-card { background-color: white; padding: 25px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); text-align: center; text-decoration: none; color: #333; transition: transform 0.2s, box-shadow 0.2s; }
    .action-card:hover { transform: translateY(-5px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    .action-card h2 { margin-top: 0; color: #007bff; }
    .action-card p { color: #6c757d; }
    .table-card { background-color: white; padding: 25px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); margin-top: 30px;}
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #dee2e6; }
    th { background-color: #e9ecef; }
</style>

<div class="header">
    <h1>Painel da Recepção</h1>
    <p>Bem-vindo(a), {{ user.get_full_name|default:user.username }}! Use os atalhos abaixo para suas tarefas diárias.</p>
</div>

<div class="actions-grid">
    <a href="{% url 'registrar_visita' %}" class="action-card">
        <h2>Registrar Visita</h2>
        <p>Faça o check-in de novos visitantes no leilão.</p>
    </a>
    <a href="{% url 'selecionar_leilao_arremate' %}" class="action-card">
        <h2>Registrar Arremates</h2>
        <p>Acesse a lista de veículos para registrar as vendas.</p>
    </a>
    <a href="{% url 'lista_completa_veiculos' %}" class="action-card">
        <h2>Consultar Veículos</h2>
        <p>Veja a lista completa de todos os veículos no pátio.</p>
    </a>
</div>

<div class="table-card">
    <h3>Histórico de Visitas por Leilão</h3>
    <table>
        <thead>
            <tr><th>Nome do Leilão</th><th>Total de Visitantes</th></tr>
        </thead>
        <tbody>
            {% for leilao in leiloes_com_visitas_total %}
            <tr>
                <td><a href="{% url 'lista_visitantes_leilao' leilao.id %}">{{ leilao.nome_evento }}</a></td>
                <td>{{ leilao.num_visitas }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="2">Nenhuma visita registrada em nenhum leilão.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}